(this["webpackJsonpmy-fsm"]=this["webpackJsonpmy-fsm"]||[]).push([[0],{22:function(t,n,e){},29:function(t,n,e){"use strict";e.r(n);var i,r,s,o,a,c,u,b,h=e(0),l=e.n(h),d=e(11),j=e.n(d),f=(e(22),e(4)),O=e(12),g=e(13),v=function(){function t(n){var e=n.initialState,i=n.states;Object(O.a)(this,t),this.error="",this.transitionSubsrcibers=new Set,this.errorSubscribers=new Set,this.state=e,this.states=i}return Object(g.a)(t,[{key:"transition",value:function(t){var n,e,i=this,r=null===(n=this.states[this.state])||void 0===n||null===(e=n.transitions)||void 0===e?void 0:e[t];r?(this.state=r,this.transitionSubsrcibers.forEach((function(t){return t(i.state)})),this.error="",this.errorSubscribers.forEach((function(t){return t(i.error)}))):(this.error="Error Can't transition ".concat(this.state," to ").concat(t),this.errorSubscribers.forEach((function(t){return t(i.error)})))}},{key:"getState",value:function(){return this.state}},{key:"getError",value:function(){if(this.error)return this.error}},{key:"subscribe",value:function(t,n){var e=this;return this.transitionSubsrcibers.add(t),n&&this.errorSubscribers.add(n),function(){return e.unsubscribe(t,n)}}},{key:"unsubscribe",value:function(t,n){this.transitionSubsrcibers.delete(t),n&&this.errorSubscribers.delete(n)}}]),t}(),S=e(2),p=e(3),x=p.a.div(i||(i=Object(S.a)(["\npadding: 32px;\ndisplay: flex;\nflex-direction: column;\n"]))),w=p.a.h1(r||(r=Object(S.a)(["\nmargin-right: 16px;\ncolor:grey;\n"]))),E=p.a.div(s||(s=Object(S.a)(["\ndisplay: flex;\nalign-items: center;\n"]))),k=p.a.button(o||(o=Object(S.a)(["\n    height: 30px;\n    width: 140px;\n    font-weight: 600;\n    background-color: white;\n    border: none;\n    color: grey;\n    transition: 0.3s;\n    &:hover{\n        background-color: grey;\n        color: white;\n        opacity: 0.8;\n    }\n"]))),y=p.a.div(a||(a=Object(S.a)(["\n  color:red;\n  font-weight: 600;\n"]))),m=e(17),G=e.n(m),L=e(8),T=(e(25),e(26),e(27),e(1)),C=function(t){var n=t.parsingError,e=t.fsm,i=t.clickHandler,r=Object(h.useState)(JSON.stringify(e,void 0,2)),s=Object(f.a)(r,2),o=s[0],a=s[1];return Object(T.jsxs)(x,{children:[Object(T.jsxs)(E,{children:[Object(T.jsx)(w,{children:"FSM Editor"}),Object(T.jsx)(k,{onClick:function(){return i(o)},children:"Generate Fsm"})]}),n&&Object(T.jsx)(y,{children:"this is not a valid json"}),Object(T.jsx)(G.a,{value:o,onValueChange:a,highlight:function(t){return Object(L.highlight)(t,L.languages.js)},padding:10,style:{minHeight:"500px",overflow:"auto",fontSize:"20px"}})]})},F=function(t){var n=t.transition,e=t.fsm;return console.log({transition:n}),console.log({fsm:e}),Object(T.jsx)("div",{children:"output"})},J=p.a.div(c||(c=Object(S.a)(["\n    display: flex;\n    height:100vh;\n    width:100vw;\n    flex:1;\n"]))),H=p.a.div(u||(u=Object(S.a)(["\n    background-color: whitesmoke;\n    height: 100%;\n    width: 100%;\n"]))),B=p.a.div(b||(b=Object(S.a)(["\n    background-color: white;\n    height: 100%;\n    width: 100%;\n"]))),I={initialState:"up",states:{up:{transitions:{TOGGLE:"right"}},right:{transitions:{TOGGLE:"down"}},down:{transitions:{TOGGLE:"left"}},left:{transitions:{TOGGLE:"up"}},exit:{transitions:{}}}},M=function(){var t=Object(h.useState)(I),n=Object(f.a)(t,2),e=n[0],i=n[1],r=function(t){var n=Object(h.useState)(t.getState()),e=Object(f.a)(n,2),i=e[0],r=e[1],s=Object(h.useState)(t.getError()),o=Object(f.a)(s,2),a=o[0],c=o[1],u=Object(h.useCallback)((function(t){r(t)}),[]),b=Object(h.useCallback)((function(t){c(t)}),[]);return Object(h.useEffect)((function(){return t.subscribe(u,b),function(){t.unsubscribe(u,b)}}),[t,u,b]),{state:i,error:a,transition:Object(h.useCallback)((function(n){t.transition(n)}),[t])}}(new v(e)),s=(r.state,r.transition),o=Object(h.useState)(null),a=Object(f.a)(o,2),c=a[0],u=a[1];return Object(T.jsxs)(J,{children:[Object(T.jsx)(H,{children:Object(T.jsx)(C,{parsingError:c,fsm:e,clickHandler:function(t){try{var n=JSON.parse(t);n.initialState||u("code is not a valid"),i(n)}catch(e){u(e)}}})}),Object(T.jsx)(B,{children:Object(T.jsx)(F,{transition:s,fsm:e})})]})},N=(new v({initialState:"up",states:{up:{transitions:{TOGGLE:"right"}},right:{transitions:{TOGGLE:"down"}},down:{transitions:{TOGGLE:"left"}},left:{transitions:{TOGGLE:"up"}}}}),function(){return Object(T.jsx)(M,{})}),P=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,30)).then((function(n){var e=n.getCLS,i=n.getFID,r=n.getFCP,s=n.getLCP,o=n.getTTFB;e(t),i(t),r(t),s(t),o(t)}))};j.a.render(Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(N,{})}),document.getElementById("root")),P()}},[[29,1,2]]]);
//# sourceMappingURL=main.8deca612.chunk.js.map